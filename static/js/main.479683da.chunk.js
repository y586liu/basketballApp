(this.webpackJsonpappbasketball=this.webpackJsonpappbasketball||[]).push([[0],{72:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(11),c=a.n(s),r=(a(72),a(30)),i=a(18),o=a.n(i),l=a(31),j=a(19),u=(a(74),a(143)),b=a(141),d=a(50),p=a(131),h=a(135),O=a(134),x=a(126),f=a(132),g=a(133),m=a(130),k=a(142),v=(a(75),a(5));var w=function(e){var t=e.league,a=Object(n.useState)(t.seasons[0]),s=Object(j.a)(a,2),c=s[0],r=s[1],i=[],u=Object(n.useState)(0),b=Object(j.a)(u,2),w=b[0],y=b[1],S=Object(n.useState)([]),C=Object(j.a)(S,2),E=C[0],L=C[1];function T(e){for(var a=function(a){Object(l.a)(o.a.mark((function n(){var s,r,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s="https://api-basketball.p.rapidapi.com/statistics?season="+c.season+"&league="+t.id+"&team="+e[a],n.next=3,fetch(s,{method:"GET",headers:{"x-rapidapi-key":"159c41a39fmsh809ec9a39138a2bp12d233jsne6898ee04471","x-rapidapi-host":"api-basketball.p.rapidapi.com"}});case 3:return r=n.sent,n.next=6,r.json();case 6:l=n.sent,i=[].concat(Object(d.a)(i),[(o=l.response,{name:o.team.name,wins:o.games.wins.all.total,draws:o.games.draws.all.total,loses:o.games.loses.all.total})]),a===e.length-1&&L(i);case 9:case"end":return n.stop()}var o}),n)})))()},n=0;n<e.length;n++)a(n)}function G(e){r(t.seasons[e])}return Object(n.useEffect)((function(){r(t.seasons[0])}),[t]),Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api-basketball.p.rapidapi.com/teams?league="+t.id+"&season="+c.season,e.next=3,fetch(a,{method:"GET",headers:{"x-rapidapi-key":"159c41a39fmsh809ec9a39138a2bp12d233jsne6898ee04471","x-rapidapi-host":"api-basketball.p.rapidapi.com"}});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,T(Object(d.a)(s.response.map((function(e){return e.id}))));case 9:case"end":return e.stop()}}),e)})))()}),[t,c]),Object(v.jsxs)("div",{className:"main",children:[Object(v.jsx)("h2",{children:"last three seasons: "}),function(){switch(t.seasons.length){case 1:return Object(v.jsx)("div",{children:Object(v.jsxs)("button",{onClick:function(){return G(0)},children:[" ",t.seasons[0].season," "]})});case 2:return Object(v.jsxs)("div",{children:[Object(v.jsxs)("button",{onClick:function(){return G(0)},children:[" ",t.seasons[0].season," "]}),Object(v.jsxs)("button",{onClick:function(){return G(1)},children:[" ",t.seasons[1].season," "]})]});default:return Object(v.jsxs)("div",{children:[Object(v.jsxs)("button",{onClick:function(){return G(0)},children:[" ",t.seasons[0].season," "]}),Object(v.jsxs)("button",{onClick:function(){return G(1)},children:[" ",t.seasons[1].season," "]}),Object(v.jsxs)("button",{onClick:function(){return G(2)},children:[" ",t.seasons[2].season," "]})]})}}(),Object(v.jsxs)("h2",{children:["Country: ",t.country.name]}),Object(v.jsxs)("h2",{children:["League: ",t.name]}),Object(v.jsxs)("h2",{children:["Season: ",c.season," (from ",c.start," to ",c.end,")"]}),Object(v.jsx)(x.a,{component:m.a,children:Object(v.jsxs)(p.a,{children:[Object(v.jsx)(f.a,{children:Object(v.jsxs)(g.a,{children:[Object(v.jsx)(O.a,{children:"Team"}),Object(v.jsx)(O.a,{align:"right",children:"Wins"}),Object(v.jsx)(O.a,{align:"right",children:"Loses"}),Object(v.jsx)(O.a,{align:"right",children:"Draws"})]})}),Object(v.jsx)(h.a,{children:E.slice(10*w,10*w+10).map((function(e){return Object(v.jsxs)(g.a,{children:[Object(v.jsx)(O.a,{children:e.name}),Object(v.jsx)(O.a,{align:"right",children:e.wins}),Object(v.jsx)(O.a,{align:"right",children:e.loses}),Object(v.jsx)(O.a,{align:"right",children:e.draws})]},e.name)}))})]})}),Object(v.jsx)(k.a,{rowsPerPageOptions:[],component:"div",count:E.length,rowsPerPage:10,page:w,onChangePage:function(e,t){y(t)}})]})};var y=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),i=Object(j.a)(c,2),d=i[0],p=i[1],h=Object(n.useState)([]),O=Object(j.a)(h,2),x=O[0],f=O[1],g=Object(n.useState)({}),m=Object(j.a)(g,2),k=m[0],y=m[1];function S(e,t){y(t)}return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api-basketball.p.rapidapi.com/countries",{method:"GET",headers:{"x-rapidapi-key":"159c41a39fmsh809ec9a39138a2bp12d233jsne6898ee04471","x-rapidapi-host":"api-basketball.p.rapidapi.com"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,s(a.response);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api-basketball.p.rapidapi.com/leagues",{method:"GET",headers:{"x-rapidapi-key":"159c41a39fmsh809ec9a39138a2bp12d233jsne6898ee04471","x-rapidapi-host":"api-basketball.p.rapidapi.com"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,f(a.response);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(v.jsxs)("div",{id:"app",children:[Object(v.jsxs)("div",{id:"mySidebar",className:"sidebar",children:[Object(v.jsx)("h2",{children:"Select country, then league"}),Object(v.jsxs)("li",{children:["Country",Object(v.jsx)("br",{})]}),Object(v.jsx)(b.a,{id:"countrySelect",options:a,getOptionLabel:function(e){return e.name},style:{width:200,padding:30},renderInput:function(e){return Object(v.jsx)(u.a,Object(r.a)(Object(r.a)({},e),{},{label:"Select a country",variant:"outlined"}))},onChange:function(e,t){var a="https://api-basketball.p.rapidapi.com/leagues?country="+t.name.toLowerCase();fetch(a,{method:"GET",headers:{"x-rapidapi-key":"159c41a39fmsh809ec9a39138a2bp12d233jsne6898ee04471","x-rapidapi-host":"api-basketball.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){p(e.response)})).catch((function(e){console.error(e)}))}}),Object(v.jsxs)("li",{children:["League",Object(v.jsx)("br",{})]}),Object(v.jsx)(b.a,{id:"leagueSelect",options:d,getOptionLabel:function(e){return e.name},style:{width:200,padding:30},renderInput:function(e){return Object(v.jsx)(u.a,Object(r.a)(Object(r.a)({},e),{},{label:"Select a league",variant:"outlined"}))},onChange:S}),Object(v.jsx)("h2",{children:"Or select league directly"}),Object(v.jsx)("li",{children:"Search in all leagues"}),Object(v.jsx)(b.a,{id:"leagueSelect",options:x,getOptionLabel:function(e){return e.name+" - "+e.country.name},style:{width:200,padding:30},renderInput:function(e){return Object(v.jsx)(u.a,Object(r.a)(Object(r.a)({},e),{},{label:"Select a league",variant:"outlined"}))},onChange:S})]}),(console.log("rendertable"),k&&0!==Object.keys(k).length?0===k.seasons.length?Object(v.jsx)("h2",{children:"There are 0 seasons of this league"}):Object(v.jsx)(w,{league:k}):Object(v.jsx)("h2",{children:"Select a league in the left panel to start."}))]})};c.a.render(Object(v.jsx)(y,{}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.479683da.chunk.js.map